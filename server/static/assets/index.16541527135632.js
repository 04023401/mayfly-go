var C=Object.defineProperty;var v=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var E=(e,s,a)=>s in e?C(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a,N=(e,s)=>{for(var a in s||(s={}))D.call(s,a)&&E(e,a,s[a]);if(v)for(var a of v(s))T.call(s,a)&&E(e,a,s[a]);return e};import{_ as I,u as P,a as B,r as j,c as F,f as S,o as U,t as M,b as x,d as f,e as A,g as y,w as V,h as l,i as w,F as q,j as L,k as O,n as G,l as k,m as R}from"./index.1654152713563.js";import{A as $}from"./Api.1654152713563.js";var g=globalThis&&globalThis.__assign||function(){return(g=Object.assign||function(e){for(var s,a=1,r=arguments.length;a<r;a++)for(var t in s=arguments[a])Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t]);return e}).apply(this,arguments)},m=function(){function e(s,a,r){var t=this;this.target=s,this.endVal=a,this.options=r,this.version="2.0.8",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(u){t.startTime||(t.startTime=u);var n=u-t.startTime;t.remaining=t.duration-n,t.useEasing?t.countDown?t.frameVal=t.startVal-t.easingFn(n,0,t.startVal-t.endVal,t.duration):t.frameVal=t.easingFn(n,t.startVal,t.endVal-t.startVal,t.duration):t.countDown?t.frameVal=t.startVal-(t.startVal-t.endVal)*(n/t.duration):t.frameVal=t.startVal+(t.endVal-t.startVal)*(n/t.duration),t.countDown?t.frameVal=t.frameVal<t.endVal?t.endVal:t.frameVal:t.frameVal=t.frameVal>t.endVal?t.endVal:t.frameVal,t.frameVal=Number(t.frameVal.toFixed(t.options.decimalPlaces)),t.printValue(t.frameVal),n<t.duration?t.rAF=requestAnimationFrame(t.count):t.finalEndVal!==null?t.update(t.finalEndVal):t.callback&&t.callback()},this.formatNumber=function(u){var n,i,o,h,_=u<0?"-":"";n=Math.abs(u).toFixed(t.options.decimalPlaces);var d=(n+="").split(".");if(i=d[0],o=d.length>1?t.options.decimal+d[1]:"",t.options.useGrouping){h="";for(var c=0,b=i.length;c<b;++c)c!==0&&c%3==0&&(h=t.options.separator+h),h=i[b-c-1]+h;i=h}return t.options.numerals&&t.options.numerals.length&&(i=i.replace(/[0-9]/g,function(p){return t.options.numerals[+p]}),o=o.replace(/[0-9]/g,function(p){return t.options.numerals[+p]})),_+t.options.prefix+i+o+t.options.suffix},this.easeOutExpo=function(u,n,i,o){return i*(1-Math.pow(2,-10*u/o))*1024/1023+n},this.options=g(g({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(a),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof s=="string"?document.getElementById(s):s,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return e.prototype.determineDirectionAndSmartEasing=function(){var s=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>s;var a=s-this.startVal;if(Math.abs(a)>this.options.smartEasingThreshold){this.finalEndVal=s;var r=this.countDown?1:-1;this.endVal=s+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=s,this.finalEndVal=null;this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},e.prototype.start=function(s){this.error||(this.callback=s,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(s){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(s),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(s){var a=this.formattingFn(s);this.el.tagName==="INPUT"?this.el.value=a:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=a:this.el.innerHTML=a},e.prototype.ensureNumber=function(s){return typeof s=="number"&&!isNaN(s)},e.prototype.validateValue=function(s){var a=Number(s);return this.ensureNumber(a)?a:(this.error="[CountUp] invalid start or end value: "+s,null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}();const z={getIndexCount:$.create("/common/index/count","get")};const H={name:"HomePage",setup(){const e=P(),s=B(),a=j({topCardItemList:[{title:"\u9879\u76EE\u6570",id:"projectNum",color:"#FEBB50"},{title:"Linux\u673A\u5668\u6570",id:"machineNum",color:"#F95959"},{title:"\u6570\u636E\u5E93\u603B\u6570",id:"dbNum",color:"#8595F4"},{title:"redis\u603B\u6570",id:"redisNum",color:"#1abc9c"}]}),r=F(()=>S(new Date)),t=async()=>{const i=await z.getIndexCount.request();R(()=>{new m("projectNum",i.projectNum).start(),new m("machineNum",i.machineNum).start(),new m("dbNum",i.dbNum).start(),new m("redisNum",i.redisNum).start()})},u=i=>{switch(i.id){case"personal":{e.push("/personal");break}case"projectNum":{e.push("/ops/projects");break}case"machineNum":{e.push("/ops/machines");break}case"dbNum":{e.push("/ops/dbms/dbs");break}case"redisNum":{e.push("/ops/redis/manage");break}}};U(()=>{t()});const n=F(()=>s.state.userInfos.userInfos);return N({getUserInfos:n,currentTime:r,toPage:u},M(a))}},J={class:"home-container"},K={class:"flex-margin flex"},Q=["src"],W={class:"home-card-first-right ml15"},X={class:"flex-margin"},Y={class:"home-card-first-right-title"},Z=["onClick"],tt={class:"home-card-item-flex"},st={class:"home-card-item-title pb3"},et=["id"];function at(e,s,a,r,t,u){const n=x("el-col"),i=x("el-row");return f(),A("div",J,[y(i,{gutter:15},{default:V(()=>[y(n,{sm:6,class:"mb15"},{default:V(()=>[l("div",{onClick:s[0]||(s[0]=o=>r.toPage({id:"personal"})),class:"home-card-item home-card-first"},[l("div",K,[l("img",{src:r.getUserInfos.photo},null,8,Q),l("div",W,[l("div",X,[l("div",Y,w(`${r.currentTime}, ${r.getUserInfos.username}`),1)])])])])]),_:1}),(f(!0),A(q,null,L(e.topCardItemList,(o,h)=>(f(),O(n,{sm:3,class:"mb15",key:h},{default:V(()=>[l("div",{onClick:_=>r.toPage(o),class:"home-card-item home-card-item-box",style:k({background:o.color})},[l("div",tt,[l("div",st,w(o.title),1),l("div",{class:"home-card-item-title-num pb6",id:o.id},null,8,et)]),l("i",{class:G(o.icon),style:k({color:o.iconColor})},null,6)],12,Z)]),_:2},1024))),128))]),_:1})])}var ot=I(H,[["render",at],["__scopeId","data-v-77501f64"]]);export{ot as default};
