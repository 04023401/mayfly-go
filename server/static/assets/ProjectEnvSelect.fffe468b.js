var C=Object.defineProperty,E=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var _=(l,e,o)=>e in l?C(l,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[e]=o,h=(l,e)=>{for(var o in e||(e={}))$.call(e,o)&&_(l,o,e[o]);if(m)for(var o of m(e))k.call(e,o)&&_(l,o,e[o]);return l},j=(l,e)=>E(l,P(e));import{p as b}from"./api.b589497a.js";import{x as S,a as B,A as q,o as z,t as A,e as d,f as s,h as p,i as t,G as r,F as g,E as y,l as I,al as F}from"./vendor.c08e96cf.js";var w=S({name:"ProjectEnvSelect",props:{visible:{type:Boolean},data:{type:Object},title:{type:String},machineId:{type:Number},isCommon:{type:Boolean}},setup(l,{emit:e}){const o=B({projects:[],envs:[],projectId:null,envId:null});q(l,(n,c)=>{}),z(async()=>{o.projects=await b.accountProjects.request(null)});const u=async n=>{e("update:projectId",n),e("changeProjectEnv",o.projectId,null),o.envId=null,o.envs=await b.projectEnvs.request({projectId:n})},i=n=>{e("update:envId",n),e("changeProjectEnv",o.projectId,n)};return j(h({},A(o)),{changeProject:u,changeEnv:i})}}),M="";const N={style:{float:"left"}},U={style:{float:"right",color:"#8492a6","font-size":"13px"}};function x(l,e,o,u,i,n){const c=d("el-option"),v=d("el-select"),f=d("el-form-item"),V=d("el-form");return s(),p("div",null,[t(V,{class:"search-form","label-position":"right",inline:!0,"label-width":"60px",size:"small"},{default:r(()=>[t(f,{prop:"project",label:"\u9879\u76EE","label-width":"40px"},{default:r(()=>[t(v,{modelValue:l.projectId,"onUpdate:modelValue":e[1]||(e[1]=a=>l.projectId=a),placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE",onChange:l.changeProject,filterable:""},{default:r(()=>[(s(!0),p(g,null,y(l.projects,a=>(s(),p(c,{key:a.id,label:`${a.name} [${a.remark}]`,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),t(f,{prop:"env",label:"\u73AF\u5883","label-width":"40px"},{default:r(()=>[t(v,{style:{width:"100px"},modelValue:l.envId,"onUpdate:modelValue":e[2]||(e[2]=a=>l.envId=a),placeholder:"\u73AF\u5883",onChange:l.changeEnv,filterable:""},{default:r(()=>[(s(!0),p(g,null,y(l.envs,a=>(s(),p(c,{key:a.id,label:a.name,value:a.id},{default:r(()=>[t("span",N,I(a.name),1),t("span",U,I(a.remark),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),F(l.$slots,"default")]),_:3})])}w.render=x;export{w as _};
