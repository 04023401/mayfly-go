var k=Object.defineProperty,C=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var j=(o,e,a)=>e in o?k(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,h=(o,e)=>{for(var a in e||(e={}))B.call(e,a)&&j(o,a,e[a]);if(v)for(var a of v(e))$.call(e,a)&&j(o,a,e[a]);return o},_=(o,e)=>C(o,P(e));import{p as b}from"./api.16433395848253.js";import{_ as F}from"./index.1643339584825.js";import{y as S,a as q,F as A,o as N,t as U,d as p,q as r,e as d,j as s,k as n,I as g,J as y,G as E,f as I,i as V,a7 as x}from"./vendor.1643339584825.js";const z=S({name:"ProjectEnvSelect",props:{visible:{type:Boolean},data:{type:Object},title:{type:String},machineId:{type:Number},isCommon:{type:Boolean}},setup(o,{emit:e}){const a=q({projects:[],envs:[],projectId:null,envId:null});A(o,(t,u)=>{}),N(async()=>{a.projects=await b.accountProjects.request(null)});const c=async t=>{e("update:projectId",t),e("changeProjectEnv",a.projectId,null),a.envId=null,a.envs=await b.projectEnvs.request({projectId:t})},i=t=>{e("update:envId",t),e("changeProjectEnv",a.projectId,t)};return _(h({},U(a)),{changeProject:c,changeEnv:i})}}),D={style:{float:"left"}},G={style:{float:"right",color:"#8492a6","font-size":"13px"}};function J(o,e,a,c,i,t){const u=p("el-option"),f=p("el-select"),m=p("el-form-item"),w=p("el-form");return r(),d("div",null,[s(w,{class:"search-form","label-position":"right",inline:!0,"label-width":"60px"},{default:n(()=>[s(m,{prop:"project",label:"\u9879\u76EE","label-width":"40px"},{default:n(()=>[s(f,{modelValue:o.projectId,"onUpdate:modelValue":e[0]||(e[0]=l=>o.projectId=l),placeholder:"\u8BF7\u9009\u62E9\u9879\u76EE",onChange:o.changeProject,filterable:""},{default:n(()=>[(r(!0),d(g,null,y(o.projects,l=>(r(),E(u,{key:l.id,label:`${l.name} [${l.remark}]`,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),s(m,{prop:"env",label:"\u73AF\u5883","label-width":"40px"},{default:n(()=>[s(f,{style:{width:"100px"},modelValue:o.envId,"onUpdate:modelValue":e[1]||(e[1]=l=>o.envId=l),placeholder:"\u73AF\u5883",onChange:o.changeEnv,filterable:""},{default:n(()=>[(r(!0),d(g,null,y(o.envs,l=>(r(),E(u,{key:l.id,label:l.name,value:l.id},{default:n(()=>[I("span",D,V(l.name),1),I("span",G,V(l.remark),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),x(o.$slots,"default")]),_:3})])}var H=F(z,[["render",J]]);export{H as P};
