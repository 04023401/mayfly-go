var ce=Object.defineProperty;var le=Object.getOwnPropertySymbols;var _e=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var ue=(o,u,h)=>u in o?ce(o,u,{enumerable:!0,configurable:!0,writable:!0,value:h}):o[u]=h,Z=(o,u)=>{for(var h in u||(u={}))_e.call(u,h)&&ue(o,h,u[h]);if(le)for(var h of le(u))pe.call(u,h)&&ue(o,h,u[h]);return o};import{d as ee,c as te,t as se,L as ne,h as p,i as g,j as D,k as t,w as s,q as e,F as c,Q as G,R as Q,l,G as W,r as me,v as F,X as fe,m as T,s as X,E as K,e as Fe,U as he,W as ve,a4 as oe,a5 as ge}from"./index.1667044971054.js";import{r as q}from"./api.16670449710544.js";import{t as be}from"./api.16670449710542.js";import{m as Ee,_ as we}from"./TagSelect.1667044971054.js";import{R as ye}from"./rsa.1667044971054.js";import"./Api.1667044971054.js";import"./assert.1667044971054.js";const Be={class:"row"},Ce=e("span",{class:"title"},"redis_version(\u7248\u672C):",-1),De={class:"value"},Ae={class:"row"},ke=e("span",{class:"title"},"tcp_port(\u7AEF\u53E3):",-1),Ve={class:"value"},Ie={class:"row"},Se=e("span",{class:"title"},"redis_mode(\u6A21\u5F0F):",-1),xe={class:"value"},Ue={class:"row"},qe=e("span",{class:"title"},"os(\u5BBF\u4E3B\u64CD\u4F5C\u7CFB\u7EDF):",-1),Te={class:"value"},Re={class:"row"},Pe=e("span",{class:"title"},"uptime_in_days(\u8FD0\u884C\u5929\u6570):",-1),Me={class:"value"},Le={class:"row"},$e=e("span",{class:"title"},"executable(\u53EF\u6267\u884C\u6587\u4EF6\u8DEF\u5F84):",-1),Ne={class:"value"},ze={class:"row"},je=e("span",{class:"title"},"config_file(\u914D\u7F6E\u6587\u4EF6\u8DEF\u5F84):",-1),Oe={class:"value"},He={class:"row"},Ke=e("span",{class:"title"},"connected_clients(\u5DF2\u8FDE\u63A5\u5BA2\u6237\u7AEF\u6570):",-1),Ge={class:"value"},Qe={class:"row"},We=e("span",{class:"title"},"blocked_clients(\u6B63\u5728\u7B49\u5F85\u963B\u585E\u547D\u4EE4\u5BA2\u6237\u7AEF\u6570):",-1),Xe={class:"value"},Je={class:"title"},Ye={class:"value"},Ze={class:"row"},et=e("span",{class:"title"},"total_commands_processed(\u603B\u5904\u7406\u547D\u4EE4\u6570):",-1),tt={class:"value"},st={class:"row"},lt=e("span",{class:"title"},"instantaneous_ops_per_sec(\u5F53\u524Dqps):",-1),ut={class:"value"},ot={class:"row"},nt=e("span",{class:"title"},"total_net_input_bytes(\u7F51\u7EDC\u5165\u53E3\u6D41\u91CF\u5B57\u8282\u6570):",-1),at={class:"value"},it={class:"row"},dt=e("span",{class:"title"},"total_net_output_bytes(\u7F51\u7EDC\u51FA\u53E3\u6D41\u91CF\u5B57\u8282\u6570):",-1),rt={class:"value"},ct={class:"row"},_t=e("span",{class:"title"},"expired_keys(\u8FC7\u671Fkey\u7684\u603B\u6570\u91CF):",-1),pt={class:"value"},mt={class:"row"},ft=e("span",{class:"title"},"instantaneous_ops_per_sec(\u5F53\u524Dqps):",-1),Ft={class:"value"},ht={class:"row"},vt=e("span",{class:"title"},"aof_enabled(\u662F\u5426\u542F\u7528aof):",-1),gt={class:"value"},bt={class:"row"},Et=e("span",{class:"title"},"loading(\u662F\u5426\u6B63\u5728\u8F7D\u5165\u6301\u4E45\u5316\u6587\u4EF6):",-1),wt={class:"value"},yt={class:"row"},Bt=e("span",{class:"title"},"cluster_enabled(\u662F\u5426\u542F\u7528\u96C6\u7FA4\u6A21\u5F0F):",-1),Ct={class:"value"},Dt={class:"row"},At=e("span",{class:"title"},"used_memory(\u5206\u914D\u5185\u5B58\u603B\u91CF):",-1),kt={class:"value"},Vt={class:"row"},It=e("span",{class:"title"},"maxmemory(\u6700\u5927\u5185\u5B58\u914D\u7F6E):",-1),St={class:"value"},xt={class:"row"},Ut=e("span",{class:"title"},"used_memory_rss(\u5DF2\u5206\u914D\u7684\u5185\u5B58\u603B\u91CF\uFF0C\u64CD\u4F5C\u7CFB\u7EDF\u89D2\u5EA6):",-1),qt={class:"value"},Tt={class:"row"},Rt=e("span",{class:"title"},"mem_fragmentation_ratio(used_memory_rss\u548Cused_memory \u4E4B\u95F4\u7684\u6BD4\u7387):",-1),Pt={class:"value"},Mt={class:"row"},Lt=e("span",{class:"title"},"used_memory_peak(\u5185\u5B58\u6D88\u8017\u5CF0\u503C):",-1),$t={class:"value"},Nt={class:"row"},zt=e("span",{class:"title"},"total_system_memory(\u4E3B\u673A\u603B\u5185\u5B58):",-1),jt={class:"value"},Ot={class:"row"},Ht=e("span",{class:"title"},"used_cpu_sys(\u7531Redis\u670D\u52A1\u5668\u6D88\u8017\u7684\u7CFB\u7EDFCPU):",-1),Kt={class:"value"},Gt={class:"row"},Qt=e("span",{class:"title"},"used_cpu_user(\u7531Redis\u670D\u52A1\u5668\u6D88\u8017\u7684\u7528\u6237CPU):",-1),Wt={class:"value"},Xt={class:"row"},Jt=e("span",{class:"title"},"used_cpu_sys_children(\u7531\u540E\u53F0\u8FDB\u7A0B\u6D88\u8017\u7684\u7CFB\u7EDFCPU):",-1),Yt={class:"value"},Zt={class:"row"},es=e("span",{class:"title"},"used_cpu_user_children(\u7531\u540E\u53F0\u8FDB\u7A0B\u6D88\u8017\u7684\u7528\u6237CPU):",-1),ts={class:"value"},ss=ee({__name:"Info",props:{visible:{type:Boolean},title:{type:String},info:{type:[Boolean,Object]}},emits:["update:visible","close"],setup(o,{emit:u}){const h=o,I=te({dialogVisible:!1}),{dialogVisible:B}=se(I);ne(()=>h.visible,E=>{I.dialogVisible=E});const m=()=>{u("update:visible",!1),u("close")};return(E,b)=>{const a=p("el-collapse-item"),y=p("el-collapse"),S=p("el-dialog");return g(),D("div",null,[t(S,{title:o.title,modelValue:l(B),"onUpdate:modelValue":b[0]||(b[0]=C=>W(B)?B.value=C:null),"show-close":!0,width:"35%",onClose:b[1]||(b[1]=C=>m())},{default:s(()=>[t(y,null,{default:s(()=>[t(a,{title:"Server(Redis\u670D\u52A1\u5668\u7684\u4E00\u822C\u4FE1\u606F)",name:"server"},{default:s(()=>[e("div",Be,[Ce,e("span",De,c(o.info.Server.redis_version),1)]),e("div",Ae,[ke,e("span",Ve,c(o.info.Server.tcp_port),1)]),e("div",Ie,[Se,e("span",xe,c(o.info.Server.redis_mode),1)]),e("div",Ue,[qe,e("span",Te,c(o.info.Server.os),1)]),e("div",Re,[Pe,e("span",Me,c(o.info.Server.uptime_in_days),1)]),e("div",Le,[$e,e("span",Ne,c(o.info.Server.executable),1)]),e("div",ze,[je,e("span",Oe,c(o.info.Server.config_file),1)])]),_:1}),t(a,{title:"Clients(\u5BA2\u6237\u7AEF\u8FDE\u63A5)",name:"client"},{default:s(()=>[e("div",He,[Ke,e("span",Ge,c(o.info.Clients.connected_clients),1)]),e("div",Qe,[We,e("span",Xe,c(o.info.Clients.blocked_clients),1)])]),_:1}),t(a,{title:"Keyspace(key\u4FE1\u606F)",name:"keyspace"},{default:s(()=>[(g(!0),D(G,null,Q(o.info.Keyspace,(C,x)=>(g(),D("div",{class:"row",key:x},[e("span",Je,c(x)+": ",1),e("span",Ye,c(C),1)]))),128))]),_:1}),t(a,{title:"Stats(\u7EDF\u8BA1)",name:"state"},{default:s(()=>[e("div",Ze,[et,e("span",tt,c(o.info.Stats.total_commands_processed),1)]),e("div",st,[lt,e("span",ut,c(o.info.Stats.instantaneous_ops_per_sec),1)]),e("div",ot,[nt,e("span",at,c(o.info.Stats.total_net_input_bytes),1)]),e("div",it,[dt,e("span",rt,c(o.info.Stats.total_net_output_bytes),1)]),e("div",ct,[_t,e("span",pt,c(o.info.Stats.expired_keys),1)]),e("div",mt,[ft,e("span",Ft,c(o.info.Stats.instantaneous_ops_per_sec),1)])]),_:1}),t(a,{title:"Persistence(\u6301\u4E45\u5316)",name:"persistence"},{default:s(()=>[e("div",ht,[vt,e("span",gt,c(o.info.Persistence.aof_enabled),1)]),e("div",bt,[Et,e("span",wt,c(o.info.Persistence.loading),1)])]),_:1}),t(a,{title:"Cluster(\u96C6\u7FA4)",name:"cluster"},{default:s(()=>[e("div",yt,[Bt,e("span",Ct,c(o.info.Cluster.cluster_enabled),1)])]),_:1}),t(a,{title:"Memory(\u5185\u5B58\u6D88\u8017\u76F8\u5173\u4FE1\u606F)",name:"memory"},{default:s(()=>[e("div",Dt,[At,e("span",kt,c(o.info.Memory.used_memory_human),1)]),e("div",Vt,[It,e("span",St,c(o.info.Memory.maxmemory),1)]),e("div",xt,[Ut,e("span",qt,c(o.info.Memory.used_memory_rss_human),1)]),e("div",Tt,[Rt,e("span",Pt,c(o.info.Memory.mem_fragmentation_ratio),1)]),e("div",Mt,[Lt,e("span",$t,c(o.info.Memory.used_memory_peak_human),1)]),e("div",Nt,[zt,e("span",jt,c(o.info.Memory.total_system_memory_human),1)])]),_:1}),t(a,{title:"CPU",name:"cpu"},{default:s(()=>[e("div",Ot,[Ht,e("span",Kt,c(o.info.CPU.used_cpu_sys),1)]),e("div",Gt,[Qt,e("span",Wt,c(o.info.CPU.used_cpu_user),1)]),e("div",Xt,[Jt,e("span",Yt,c(o.info.CPU.used_cpu_sys_children),1)]),e("div",Zt,[es,e("span",ts,c(o.info.CPU.used_cpu_user_children),1)])]),_:1})]),_:1})]),_:1},8,["title","modelValue"])])}}}),ls={class:"dialog-footer"},us=ee({__name:"RedisEdit",props:{visible:{type:Boolean},redis:{type:[Boolean,Object]},title:{type:String}},emits:["update:visible","val-change","cancel"],setup(o,{emit:u}){const h=o,I={projectId:[{required:!0,message:"\u8BF7\u9009\u62E9\u9879\u76EE",trigger:["change","blur"]}],envId:[{required:!0,message:"\u8BF7\u9009\u62E9\u73AF\u5883",trigger:["change","blur"]}],host:[{required:!0,message:"\u8BF7\u8F93\u5165\u4E3B\u673Aip:port",trigger:["change","blur"]}],db:[{required:!0,message:"\u8BF7\u9009\u62E9\u5E93\u53F7",trigger:["change","blur"]}],mode:[{required:!0,message:"\u8BF7\u9009\u62E9\u6A21\u5F0F",trigger:["change","blur"]}]},B=me(null),m=te({dialogVisible:!1,sshTunnelMachineList:[],form:{id:null,tagId:null,tagPath:null,name:null,mode:"standalone",host:"",password:null,db:"",project:null,projectId:null,envId:null,env:null,remark:"",enableSshTunnel:null,sshTunnelMachineId:null},dbList:[0],pwd:"",btnLoading:!1}),{dialogVisible:E,sshTunnelMachineList:b,form:a,dbList:y,pwd:S,btnLoading:C}=se(m);ne(h,async w=>{m.dialogVisible=w.visible,m.dialogVisible&&(w.redis?(m.form=Z({},w.redis),x(m.form.db)):(m.form={db:"0",enableSshTunnel:-1},m.dbList=[]),$())});const x=w=>{m.dbList=w.split(",").map(i=>Number.parseInt(i))},L=()=>{m.form.db=m.dbList.length==0?"":m.dbList.join(",")},$=async()=>{if(m.form.enableSshTunnel==1&&m.sshTunnelMachineList.length==0){const w=await Ee.list.request({pageNum:1,pageSize:100});m.sshTunnelMachineList=w.list}},A=async()=>{m.pwd=await q.getRedisPwd.request({id:m.form.id})},J=async()=>{B.value.validate(async w=>{if(w){const i=Z({},m.form);if(i.mode=="sentinel"&&i.host.split("=").length!=2){K.error("sentinel\u6A21\u5F0Fhost\u9700\u4E3A: mastername=sentinelhost:sentinelport\u6A21\u5F0F");return}i.password=await ye(i.password),q.saveRedis.request(i).then(()=>{K.success("\u4FDD\u5B58\u6210\u529F"),u("val-change",m.form),m.btnLoading=!0,setTimeout(()=>{m.btnLoading=!1},1e3),U()})}else return K.error("\u8BF7\u6B63\u786E\u586B\u5199\u4FE1\u606F"),!1})},U=()=>{u("update:visible",!1),u("cancel")};return(w,i)=>{const _=p("el-form-item"),r=p("el-input"),v=p("el-option"),k=p("el-select"),N=p("el-link"),R=p("el-popover"),f=p("el-checkbox"),V=p("el-col"),z=p("el-form"),P=p("el-button"),Y=p("el-dialog");return g(),D("div",null,[t(Y,{title:o.title,modelValue:l(E),"onUpdate:modelValue":i[12]||(i[12]=d=>W(E)?E.value=d:null),"before-close":U,"close-on-click-modal":!1,"destroy-on-close":!0,width:"38%"},{footer:s(()=>[e("div",ls,[t(P,{onClick:i[11]||(i[11]=d=>U())},{default:s(()=>[F("\u53D6 \u6D88")]),_:1}),t(P,{type:"primary",loading:l(C),onClick:J},{default:s(()=>[F("\u786E \u5B9A")]),_:1},8,["loading"])])]),default:s(()=>[t(z,{model:l(a),ref_key:"redisForm",ref:B,rules:I,"label-width":"85px"},{default:s(()=>[t(_,{prop:"tagId",label:"\u6807\u7B7E:",required:""},{default:s(()=>[t(we,{"tag-id":l(a).tagId,"onUpdate:tag-id":i[0]||(i[0]=d=>l(a).tagId=d),"tag-path":l(a).tagPath,"onUpdate:tag-path":i[1]||(i[1]=d=>l(a).tagPath=d),style:{width:"100%"}},null,8,["tag-id","tag-path"])]),_:1}),t(_,{prop:"name",label:"\u540D\u79F0:",required:""},{default:s(()=>[t(r,{modelValue:l(a).name,"onUpdate:modelValue":i[2]||(i[2]=d=>l(a).name=d),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165redis\u540D\u79F0","auto-complete":"off"},null,8,["modelValue"])]),_:1}),t(_,{prop:"mode",label:"mode:",required:""},{default:s(()=>[t(k,{style:{width:"100%"},modelValue:l(a).mode,"onUpdate:modelValue":i[3]||(i[3]=d=>l(a).mode=d),placeholder:"\u8BF7\u9009\u62E9\u6A21\u5F0F"},{default:s(()=>[t(v,{label:"standalone",value:"standalone"}),t(v,{label:"cluster",value:"cluster"}),t(v,{label:"sentinel",value:"sentinel"})]),_:1},8,["modelValue"])]),_:1}),t(_,{prop:"host",label:"host:",required:""},{default:s(()=>[t(r,{modelValue:l(a).host,"onUpdate:modelValue":i[4]||(i[4]=d=>l(a).host=d),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165host:port\uFF1Bsentinel\u6A21\u5F0F\u4E3A: mastername=sentinelhost:port\uFF0C\u82E5\u96C6\u7FA4\u6216\u54E8\u5175\u9700\u8BBE\u591A\u4E2A\u8282\u70B9\u53EF\u4F7F\u7528','\u5206\u5272","auto-complete":"off",type:"textarea"},null,8,["modelValue"])]),_:1}),t(_,{prop:"password",label:"\u5BC6\u7801:"},{default:s(()=>[t(r,{type:"password","show-password":"",modelValue:l(a).password,"onUpdate:modelValue":i[6]||(i[6]=d=>l(a).password=d),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801, \u4FEE\u6539\u64CD\u4F5C\u53EF\u4E0D\u586B",autocomplete:"new-password"},fe({_:2},[l(a).id&&l(a).id!=0?{name:"suffix",fn:s(()=>[t(R,{onHide:i[5]||(i[5]=d=>S.value=""),placement:"right",title:"\u539F\u5BC6\u7801",width:200,trigger:"click",content:l(S)},{reference:s(()=>[t(N,{onClick:A,underline:!1,type:"primary",class:"mr5"},{default:s(()=>[F("\u539F\u5BC6\u7801")]),_:1})]),_:1},8,["content"])]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),t(_,{prop:"db",label:"\u5E93\u53F7:",required:""},{default:s(()=>[t(k,{onChange:L,modelValue:l(y),"onUpdate:modelValue":i[7]||(i[7]=d=>W(y)?y.value=d:null),multiple:"",placeholder:"\u8BF7\u9009\u62E9\u53EF\u64CD\u4F5C\u5E93\u53F7",style:{width:"100%"}},{default:s(()=>[(g(),D(G,null,Q([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],d=>t(v,{key:d,label:d,value:d},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(_,{prop:"remark",label:"\u5907\u6CE8:"},{default:s(()=>[t(r,{modelValue:l(a).remark,"onUpdate:modelValue":i[8]||(i[8]=d=>l(a).remark=d),modelModifiers:{trim:!0},"auto-complete":"off",type:"textarea"},null,8,["modelValue"])]),_:1}),t(_,{prop:"enableSshTunnel",label:"SSH\u96A7\u9053:"},{default:s(()=>[t(V,{span:3},{default:s(()=>[t(f,{onChange:$,modelValue:l(a).enableSshTunnel,"onUpdate:modelValue":i[9]||(i[9]=d=>l(a).enableSshTunnel=d),"true-label":1,"false-label":-1},null,8,["modelValue"])]),_:1}),l(a).enableSshTunnel==1?(g(),T(V,{key:0,span:2},{default:s(()=>[F(" \u673A\u5668: ")]),_:1})):X("",!0),l(a).enableSshTunnel==1?(g(),T(V,{key:1,span:19},{default:s(()=>[t(k,{style:{width:"100%"},modelValue:l(a).sshTunnelMachineId,"onUpdate:modelValue":i[10]||(i[10]=d=>l(a).sshTunnelMachineId=d),placeholder:"\u8BF7\u9009\u62E9SSH\u96A7\u9053\u673A\u5668"},{default:s(()=>[(g(!0),D(G,null,Q(l(b),d=>(g(),T(v,{key:d.id,label:`${d.ip}:${d.port} [${d.name}]`,value:d.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):X("",!0)]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])])}}}),os={style:{float:"right"}},ns=e("i",null,null,-1),as=ee({__name:"RedisList",setup(o){const u=te({tags:[],redisTable:[],total:0,currentId:null,currentData:null,query:{tagPath:null,pageNum:1,pageSize:10,clusterId:null},clusterInfoDialog:{visible:!1,redisId:0,info:"",nodes:[]},infoDialog:{title:"",visible:!1,info:{Server:{},Keyspace:{},Clients:{},CPU:{},Memory:{}}},redisEditDialog:{visible:!1,data:null,title:"\u65B0\u589Eredis"}}),{tags:h,redisTable:I,total:B,currentId:m,query:E,clusterInfoDialog:b,infoDialog:a,redisEditDialog:y}=se(u);Fe(async()=>{A()});const S=_=>{u.query.pageNum=_,A()},C=_=>{!_||(u.currentId=_.id,u.currentData=_)},x=async()=>{try{await ve.confirm("\u786E\u5B9A\u5220\u9664\u8BE5redis?","\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}),await q.delRedis.request({id:u.currentId}),K.success("\u5220\u9664\u6210\u529F"),u.currentData=null,u.currentId=null,A()}catch{}},L=async _=>{var r=_.host;_.ip&&(r=_.ip.split("@")[0]);const v=await q.redisInfo.request({id:_.id,host:r});u.infoDialog.info=v,u.infoDialog.title=`'${r}' info`,u.infoDialog.visible=!0},$=async _=>{const r=await q.clusterInfo.request({id:_.id});u.clusterInfoDialog.info=r.clusterInfo,u.clusterInfoDialog.nodes=r.clusterNodes,u.clusterInfoDialog.redisId=_.id,u.clusterInfoDialog.visible=!0},A=async()=>{const _=await q.redisList.request(u.query);u.redisTable=_.list,u.total=_.total},J=async()=>{u.tags=await be.getAccountTags.request(null)},U=async(_=!1)=>{_?(u.redisEditDialog.data=null,u.redisEditDialog.title="\u65B0\u589Eredis"):(u.redisEditDialog.data=u.currentData,u.redisEditDialog.title="\u4FEE\u6539redis"),u.redisEditDialog.visible=!0},w=()=>{u.currentId=null,u.currentData=null,A()},i=_=>{const{tagPath:r,id:v,db:k}=_;if(oe.state.redisDbOptInfo.dbOptInfo.dbId!==v){let R={tagPath:r,dbId:v,db:k};oe.dispatch("redisDbOptInfo/setRedisDbOptInfo",R)}ge.push({name:"DataOperation"})};return(_,r)=>{const v=p("el-button"),k=p("el-option"),N=p("el-select"),R=p("el-radio"),f=p("el-table-column"),V=p("el-link"),z=p("el-divider"),P=p("el-table"),Y=p("el-pagination"),d=p("el-row"),ae=p("el-card"),ie=p("el-input"),j=p("question-filled"),O=p("el-icon"),H=p("el-tooltip"),de=p("el-tag"),re=p("el-dialog");return g(),D("div",null,[t(ae,null,{default:s(()=>[t(v,{type:"primary",icon:"plus",onClick:r[0]||(r[0]=n=>U(!0)),plain:""},{default:s(()=>[F("\u6DFB\u52A0")]),_:1}),t(v,{type:"primary",icon:"edit",disabled:l(m)==null,onClick:r[1]||(r[1]=n=>U(!1)),plain:""},{default:s(()=>[F("\u7F16\u8F91 ")]),_:1},8,["disabled"]),t(v,{type:"danger",icon:"delete",disabled:l(m)==null,onClick:x,plain:""},{default:s(()=>[F("\u5220\u9664 ")]),_:1},8,["disabled"]),e("div",os,[t(N,{onFocus:J,modelValue:l(E).tagPath,"onUpdate:modelValue":r[2]||(r[2]=n=>l(E).tagPath=n),placeholder:"\u8BF7\u9009\u62E9\u6807\u7B7E",filterable:"",clearable:""},{default:s(()=>[(g(!0),D(G,null,Q(l(h),n=>(g(),T(k,{key:n,label:n,value:n},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(v,{class:"ml5",onClick:A,type:"success",icon:"search"})]),t(P,{data:l(I),onCurrentChange:C,stripe:""},{default:s(()=>[t(f,{label:"\u9009\u62E9",width:"60px"},{default:s(n=>[t(R,{modelValue:l(m),"onUpdate:modelValue":r[3]||(r[3]=M=>W(m)?m.value=M:null),label:n.row.id},{default:s(()=>[ns]),_:2},1032,["modelValue","label"])]),_:1}),t(f,{prop:"tagPath",label:"\u6807\u7B7E\u8DEF\u5F84","min-width":"150","show-overflow-tooltip":""}),t(f,{prop:"name",label:"\u540D\u79F0","min-width":"100"}),t(f,{prop:"host",label:"host:port","min-width":"150","show-overflow-tooltip":""}),t(f,{prop:"mode",label:"mode","min-width":"100"}),t(f,{prop:"remark",label:"\u5907\u6CE8","min-width":"120","show-overflow-tooltip":""}),t(f,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4","min-width":"160"},{default:s(n=>[F(c(l(he)(n.row.createTime)),1)]),_:1}),t(f,{prop:"creator",label:"\u521B\u5EFA\u4EBA","min-width":"100"}),t(f,{label:"\u66F4\u591A","min-width":"155",fixed:"right"},{default:s(n=>[n.row.mode==="standalone"||n.row.mode==="sentinel"?(g(),T(V,{key:0,type:"primary",onClick:M=>L(n.row),underline:!1},{default:s(()=>[F("\u5355\u673A\u4FE1\u606F")]),_:2},1032,["onClick"])):X("",!0),n.row.mode==="cluster"?(g(),T(V,{key:1,onClick:M=>$(n.row),type:"success",underline:!1},{default:s(()=>[F("\u96C6\u7FA4\u4FE1\u606F")]),_:2},1032,["onClick"])):X("",!0),t(z,{direction:"vertical","border-style":"dashed"}),t(V,{onClick:M=>i(n.row),type:"success",underline:!1},{default:s(()=>[F("\u6570\u636E\u64CD\u4F5C")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),t(d,{style:{"margin-top":"20px"},type:"flex",justify:"end"},{default:s(()=>[t(Y,{style:{"text-align":"right"},onCurrentChange:S,total:l(B),layout:"prev, pager, next, total, jumper","current-page":l(E).pageNum,"onUpdate:current-page":r[4]||(r[4]=n=>l(E).pageNum=n),"page-size":l(E).pageSize},null,8,["total","current-page","page-size"])]),_:1})]),_:1}),t(ss,{visible:l(a).visible,"onUpdate:visible":r[5]||(r[5]=n=>l(a).visible=n),title:l(a).title,info:l(a).info},null,8,["visible","title","info"]),t(re,{width:"1000px",title:"\u96C6\u7FA4\u4FE1\u606F",modelValue:l(b).visible,"onUpdate:modelValue":r[7]||(r[7]=n=>l(b).visible=n)},{default:s(()=>[t(ie,{type:"textarea",autosize:{minRows:12,maxRows:12},modelValue:l(b).info,"onUpdate:modelValue":r[6]||(r[6]=n=>l(b).info=n)},null,8,["modelValue"]),t(z,{"content-position":"left"},{default:s(()=>[F("\u8282\u70B9\u4FE1\u606F")]),_:1}),t(P,{data:l(b).nodes,stripe:"",size:"small",border:""},{default:s(()=>[t(f,{prop:"nodeId",label:"nodeId","min-width":"300"},{header:s(()=>[F(" nodeId "),t(H,{class:"box-item",effect:"dark",content:"\u8282\u70B9id",placement:"top"},{default:s(()=>[t(O,null,{default:s(()=>[t(j)]),_:1})]),_:1})]),_:1}),t(f,{prop:"ip",label:"ip","min-width":"180"},{header:s(()=>[F(" ip "),t(H,{class:"box-item",effect:"dark",content:"ip:port1@port2\uFF1Aport1\u6307redis\u670D\u52A1\u5668\u4E0E\u5BA2\u6237\u7AEF\u901A\u4FE1\u7684\u7AEF\u53E3\uFF0Cport2\u5219\u662F\u96C6\u7FA4\u5185\u90E8\u8282\u70B9\u95F4\u901A\u4FE1\u7684\u7AEF\u53E3",placement:"top"},{default:s(()=>[t(O,null,{default:s(()=>[t(j)]),_:1})]),_:1})]),default:s(n=>[t(de,{onClick:M=>L({id:l(b).redisId,ip:n.row.ip}),effect:"plain",type:"success",size:"small",style:{cursor:"pointer"}},{default:s(()=>[F(c(n.row.ip),1)]),_:2},1032,["onClick"])]),_:1}),t(f,{prop:"flags",label:"flags","min-width":"110"}),t(f,{prop:"masterSlaveRelation",label:"masterSlaveRelation","min-width":"300"},{header:s(()=>[F(" masterSlaveRelation "),t(H,{class:"box-item",effect:"dark",content:"\u5982\u679C\u8282\u70B9\u662Fslave\uFF0C\u5E76\u4E14\u5DF2\u77E5master\u8282\u70B9\uFF0C\u5219\u4E3Amaster\u8282\u70B9ID\uFF1B\u5426\u5219\u4E3A\u7B26\u53F7'-'",placement:"top"},{default:s(()=>[t(O,null,{default:s(()=>[t(j)]),_:1})]),_:1})]),_:1}),t(f,{prop:"pingSent",label:"pingSent","min-width":"130","show-overflow-tooltip":""},{default:s(n=>[F(c(n.row.pingSent==0?0:new Date(parseInt(n.row.pingSent)).toLocaleString()),1)]),_:1}),t(f,{prop:"pongRecv",label:"pongRecv","min-width":"130","show-overflow-tooltip":""},{default:s(n=>[F(c(n.row.pongRecv==0?0:new Date(parseInt(n.row.pongRecv)).toLocaleString()),1)]),_:1}),t(f,{prop:"configEpoch",label:"configEpoch","min-width":"130"},{header:s(()=>[F(" configEpoch "),t(H,{class:"box-item",effect:"dark",content:"\u8282\u70B9\u7684epoch\u503C\uFF08\u5982\u679C\u8BE5\u8282\u70B9\u662F\u4ECE\u8282\u70B9\uFF0C\u5219\u4E3A\u5176\u4E3B\u8282\u70B9\u7684epoch\u503C\uFF09\u3002\u6BCF\u5F53\u8282\u70B9\u53D1\u751F\u5931\u8D25\u5207\u6362\u65F6\uFF0C\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\uFF0C\u72EC\u7279\u7684\uFF0C\u9012\u589E\u7684epoch\u3002",placement:"top"},{default:s(()=>[t(O,null,{default:s(()=>[t(j)]),_:1})]),_:1})]),_:1}),t(f,{prop:"linkState",label:"linkState","min-width":"100"}),t(f,{prop:"slot",label:"slot","min-width":"100"})]),_:1},8,["data"])]),_:1},8,["modelValue"]),t(us,{onValChange:w,tags:l(h),title:l(y).title,visible:l(y).visible,"onUpdate:visible":r[8]||(r[8]=n=>l(y).visible=n),redis:l(y).data,"onUpdate:redis":r[9]||(r[9]=n=>l(y).data=n)},null,8,["tags","title","visible","redis"])])}}});var Fs=as;export{Fs as default};
